@reference './index.css';

/* Container dialog open state */
dialog.drawer[open] {
    /* Enable click events inside menu */
    & > * {
        @apply pointer-events-auto;
    }

    /* Slide open animation */
    & > .drawer-side {
        transform: translateX(0);
    }
}

/* Drawer contents */
.drawer-side {
    @apply fixed visible opacity-100 inset-0 h-screen w-full md:w-128 p-4 z-99;

    /* Semi-transparent frosted background â€” */
    backdrop-filter: blur(8px) saturate(180%);
    -webkit-backdrop-filter: blur(8px) saturate(180%);
    background-color: color-mix(in oklab, var(--color-base-200)75%, #0000);

    /* Hide/show animation: slide in/out, no fade */
    transform: translateX(-100%);
    transition: transform .3s ease;

    /* Remove contents transition */
    & > * {
        translate: 0;
    }
}

.settings-grid {
    /* Two column grid, setting name in left, value + dropdown in right */
    /* Right is wide enough for button with 6-7 characters, left fills rest */
    @apply grid grid-cols-[minmax(0,1fr)_6.5rem];
    /* Prevent row height expanding when not enough rows to fill drawer */
    @apply content-start;
    /* Prevent vertical scrollbar when not overflowing */
    @apply flex-grow;
    /* Scroll vertically but not horizontally */
    @apply overflow-y-scroll overflow-x-hidden;
}

/* Block scrolling while drawer is open on mobile, allow on desktop */
:root:has(.drawer[open]) {
    @apply overflow-hidden md:overflow-auto;
}

/* Hide daisyui dialog backdrop (caused by showModal, need for esc key) */
dialog.drawer::backdrop {
    @apply hidden;
}
